<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Art Generator</title>
  <link rel="stylesheet" href="https://cdn.knightlab.com/libs/juxtapose/latest/css/juxtapose.css">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="ai.css">
  <!-- JavaScript -->
  <script src="https://cdn.knightlab.com/libs/juxtapose/latest/js/juxtapose.min.js"></script>
  <!--nx-->
  <!-- Title -->


  <!-- Favicon -->
  <link rel="icon" href="./img/gfavicon.png">

  <!-- Stylesheet -->
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    
  </style>
</head>

<body>
  <div id="preloader">
    <div class="loader"></div>
  </div>
  <!-- /Preloader -->

  <!-- Top Search Form Area -->
  <div class="top-search-area">
    <div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <!-- Close -->
                    <button type="button" class="btn close-btn" data-dismiss="modal"><i
                            class="ti-close"></i></button>
                    <!-- Form -->
                    <form id="searchForm">
                        <input type="search" id="top-search-bar" class="form-control search-input" placeholder="Search..." required>
                        <button type="submit" class="btn btn-yellow mt-2">Search</button>
                      </form>
                      
                    
                      
                      
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Top Search Form Area End -->

<!-- Header Area Start -->
<header class="header-area">
    <!-- Main Header Start -->
    <div class="main-header-area">
        <div class="classy-nav-container breakpoint-off">
            <div class="container">
                <!-- Classy Menu -->
                <nav class="classy-navbar justify-content-between" id="alimeNav">

                    <!-- Logo -->
                    <a class="nav-brand d-flex align-items-center" href="./index.html">
                        <h2 class="m-0 text-white">
                            GalleryVerse<span id="logoDot">.</span>
                        </h2>
                    </a>
                    <!-- Navbar Toggler -->
                    <div class="classy-navbar-toggler">
                        <span class="navbarToggler"><span></span><span></span><span></span></span>
                    </div>
                    <!-- Menu -->
                    <div class="classy-menu">
                        <!-- Menu Close Button -->
                        <div class="classycloseIcon">
                            <div class="cross-wrap"><span class="top"></span><span class="bottom"></span></div>
                        </div>
                        <!-- Nav Start -->
                        <div class="classynav">
                            <ul id="nav">
                                <li><a id="classical-link">Browse</a>
                                    <ul class="dropdown">
                                        <li><a href="./figurative.html">Figurative</a></li>
                                        <li><a href="#">Landscape</a></li>
                                        <li><a href="#">Still Life</a></li>
                                        <li><a href="#">Abstract</a></li>
                                        <li><a href="#">Animals</a></li>
                                        <li><a href="#">Illustration</a></li>
                                        <li><a href="#">Posters</a></li>
                                    </ul>
                                </li>
                                <li><a href="./galleries.html">Galleries</a></li>
                                <li><a href="./artists.html">Artists</a></li>
                                <li><a href="./form2.html">Become a partner</a></li>
                                <li>
                                    <div id='dash'>|</div>
                                </li>
                                <li><a href="./login.html">Login</a></li>
                            </ul>

                            <!-- Search Icon -->
                            <div class="search-icon" data-toggle="modal" data-target="#searchModal"><i
                                    class="ti-search"></i></div>
                        </div>
                        <!-- Nav End -->
                    </div>
                </nav>
            </div>
        </div>
    </div>
</header>
  <!-- Header Area End -->

  <!-- Welcome Area Start -->
  <section class="welcome-area">
    <div class="welcome-slides owl-carousel">
      <!-- Single Slide -->
      <div class="single-welcome-slide bg-img bg-overlay" style="background-color: rgba(0, 0, 0, 0.11); height: 63px;">

      </div>
    </div>
  </section>
  <div class="form-wrapper">
    <h2>Generate Image with GalleryVerse</h2>
    <form id="hfForm">
      <label for="prompt">Enter your description</label>
      <div class="copy-wrap">
        <textarea id="prompt" rows="4" required placeholder="e.g., A fantasy castle floating in the sky..."></textarea>
        <button type="button" onclick="copyPrompt()" title="Copy prompt"><i class="fas fa-copy"></i></button>
      </div>
      <button type="submit">Generate</button>
    </form>

    <div id="hfResult" style="margin-top: 20px; text-align: center;"></div>

    <div class="history" id="historyContainer">
      <h4>üìö Previously Generated Images</h4>
      <div id="historyImages"></div>
    </div>
  </div>
  <footer class="footer-area bg-overlay even">
		<div class="container footerpadding">
			<div class="row">
	
				<!-- Brand -->
				<div class="col-md-3 mb-4">
					<a href="index.html" class="text-decoration-none">
						<h2 class="fw-bold text-white">
							GalleryVerse<span style="color: yellow; font-size: 34px;">.</span>
						</h2>
					</a>
					<p class="mt-2 footerpcolor">Explore a curated world of classic, modern, and AI-generated
						art.</p>
				</div>
	
				<!-- Quick Links -->
				<div class="col-md-3 mb-4">
					<h5 class="fw-semibold mb-3 text-white">Quick Links</h5>
					<ul class="list-unstyled">
						<li><a href="index.html" class="text-decoration-none footerpcolor">Home</a></li>
						<li><a href="artists.html" class="text-decoration-none footerpcolor">Artists</a></li>
						<li><a href="galleries.html" class="text-decoration-none footerpcolor">Gallery</a></li>
						<li><a href="form.html" class="text-decoration-none footerpcolor">Request Art</a></li>
					</ul>
				</div>
	
				<!-- Contact Info -->
				<div class="col-md-3 mb-4">
					<h5 class="fw-semibold mb-3 text-white">Contact</h5>
					<p class="mb-1 footerpcolor"><i class="ti-email me-2"></i><span
							style="margin-left: 5px;">support@galleryverse.com</span></p>
					<p class="mb-1 footerpcolor"><i class="ti-mobile me-2"></i><span
							style="margin-left: 5px;">+962 795 939 205</span></p>
					<p class="footerpcolor"><i class="ti-location-pin me-2"></i><span
							style="margin-left: 5px;">Amman, Jordan</span></p>
				</div>
	
				<!-- Newsletter -->
				<div class="col-md-3 mb-4">
					<h5 class="fw-semibold mb-3 text-white">Newsletter</h5>
					<form class="d-flex flex-column">
						<input name="email" type="email" class="emailInput mb-2" placeholder="Your email" required>
						<button class="btn btn-sm subscripe-Button" style="background-color: yellow; " type="submit">Subscribe</button>
					</form>
				</div>
			</div>
	
			<hr class="my-4" style="background-color: rgba(255, 255, 255, 0.089);">
	
			<div class="row align-items-center justify-content-between">
				<div class="col-md-6 text-md-start">
					<p class="mb-0 text-white">&copy; 2025 GalleryVerse. All Rights Reserved.</p>
				</div>
				<div class="col-md-6 text-center text-md-end">
					<div class="social-icons d-flex justify-content-center justify-content-md-end">
						<a href="#" class="fs-5 mr-1 text-white" style="transition: color 0.3s; text-decoration: none;"><i
								class="ti-facebook"></i></a>
						<a href="#" class="fs-5 mr-1 text-white" style="transition: color 0.3s; text-decoration: none;"><i
								class="ti-twitter-alt"></i></a>
						<a href="#" class="fs-5 mr-1 text-white" style="transition: color 0.3s; text-decoration: none;"><i
								class="ti-linkedin"></i></a>
						<a href="#" class="fs-5 mr-1 text-white" style="transition: color 0.3s; text-decoration: none;"><i
								class="ti-pinterest"></i></a>
					</div>
				</div>
			</div>
		</div>
	</footer>


  <!-- Footer Area End -->

  <!-- **** All JS Files ***** -->
  <!-- jQuery 2.2.4 -->
  <script src="js/jquery.min.js"></script>
  <!-- Popper -->
  <script src="js/popper.min.js"></script>
  <!-- Bootstrap -->
  <script src="js/bootstrap.min.js"></script>
  <!-- All Plugins -->
  <script src="js/alime.bundle.js"></script>
  <!-- Active -->
  <script src="js/default-assets/active.js"></script>
  <script>
    const HF_TOKEN = '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';

    document.getElementById('hfForm').addEventListener('submit', async function (e) {
      e.preventDefault();
      const prompt = document.getElementById('prompt').value.trim();
      const resultDiv = document.getElementById('hfResult');
      resultDiv.innerHTML = `
        <p>‚è≥ Generating image...</p>
        <div class="spinner"></div>
      `;

      try {
        const response = await fetch(
          "https://api-inference.huggingface.co/models/stabilityai/stable-diffusion-xl-base-1.0",
          {
            method: "POST",
            headers: {
              Authorization: `Bearer ${HF_TOKEN}`,
              "Content-Type": "application/json"
            },
            body: JSON.stringify({inputs: prompt})
          }
        );

        if (!response.ok) {
          const error = await response.json();
          throw new Error(error.error || 'Failed to generate image');
        }

        const blob = await response.blob();
        const reader = new FileReader();
        reader.readAsDataURL(blob);
        reader.onloadend = function () {
          const base64data = reader.result;

          // Show image and download link
          resultDiv.innerHTML = `
    <p><strong>‚úÖ Image Generated:</strong></p>
    <img src="${base64data}" alt="AI Art">
    <br>
    <a href="${base64data}" download="generated-art.jpg" class="btn btn-sm btn-success mt-2">‚¨áÔ∏è Download</a>
  `;

          // Save to local history
          saveToHistory(base64data);
        };


        // Show image and download link
        resultDiv.innerHTML = `
          <p><strong>‚úÖ Image Generated:</strong></p>
          <img src="${imageUrl}" alt="AI Art">
          <br>
          <a href="${imageUrl}" download="generated-art.jpg" class="btn btn-sm btn-success mt-2">‚¨áÔ∏è Download</a>
        `;

        // Save to local history
        saveToHistory(imageUrl);
      } catch (err) {
        resultDiv.innerHTML = `
          <p style="color:red;">‚ùå Error: ${err.message}</p>
          <p>Make sure you've:<br>
          1. Accepted model terms on Hugging Face<br>
          2. Are using a valid API token</p>
        `;
      }
    });

    function copyPrompt() {
      const textarea = document.getElementById('prompt');
      textarea.select();
      document.execCommand('copy');
      alert('Prompt copied to clipboard!');
    }

    function saveToHistory(url) {
      const history = JSON.parse(localStorage.getItem('aiArtHistory') || '[]');
      history.unshift(url); // Add to beginning
      localStorage.setItem('aiArtHistory', JSON.stringify(history.slice(0, 10))); // Keep latest 10
      renderHistory();
    }

    function renderHistory() {
      const history = JSON.parse(localStorage.getItem('aiArtHistory') || '[]');
      const container = document.getElementById('historyImages');
      container.innerHTML = history.map(img =>
        `<img src="${img}" alt="history">`
      ).join('');
    }

    // On page load
    renderHistory();
    // localStorage.clear();
  </script>
  
</body>

</html>